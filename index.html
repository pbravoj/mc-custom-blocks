<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Motor BPP v4.8.0</title>
    <style>
        body { font-family: sans-serif; background: #eee; padding: 20px; }
        .box { max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
        .code { background: #222; color: #0f0; padding: 15px; border-radius: 5px; font-family: monospace; white-space: pre-wrap; font-size: 12px; margin-top: 20px; }
        select, input { width: 100%; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="box">
        <h2>Configurador BPP v4.8.0</h2>
        <label>Origen:</label>
        <select id="src" onchange="gen()">
            <option value="parametric">Paramétrico (Config_DE)</option>
            <option value="recommended">Recomendación (Audiencia)</option>
            <option value="manual">Manual</option>
        </select>
        <label>Slot:</label>
        <select id="slt" onchange="gen()">
            <option value="SKU_1">Slot 1 (SKU_1)</option>
            <option value="SKU_2">Slot 2 (SKU_2)</option>
            <option value="SKU_3">Slot 3 (SKU_3)</option>
        </select>
        <div id="m_box" style="display:none"><input id="msku" placeholder="SKU Manual" oninput="gen()"></div>
        <div class="code" id="out"></div>
    </div>
    <script>
        function gen() {
            const src = document.getElementById('src').value;
            const slt = document.getElementById('slt').value;
            const msku = document.getElementById('msku').value.toUpperCase();
            document.getElementById('m_box').style.display = (src==='manual')?'block':'none';
            let res = `%%[ \n SET @data_source_type = "${src}" \n SET @sku_slot = "${slt}" \n`;
            if(src==='manual') res += ` SET @manual_sku = "${msku}" \n`;
            res += ` SET @sku_img_size = "h/" \n]%% \n%%=ContentBlockByName("BPP/BPP_Layout_Claro")=%%`;
            document.getElementById('out').innerText = res;
        }
        gen();
    </script>
</body>
</html>
